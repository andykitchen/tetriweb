<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">

<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>untitled</title>
	<meta name="author" content="Andy Kitchen">
	<!-- Date: 2011-06-12 -->
  <script>
    var socket = new WebSocket('ws://localhost:4000/tetris');

    socket.onopen = function () {
      setInterval(function() {
          if (socket.bufferedAmount == 0)
            socket.send("Hello World!");
      }, 1000);
    };

    socket.onclose = function () {
      // alert("Connection closed")
      document.getElementById("board").innerHTML = "Connection closed."
    }

    
    socket.onmessage = function (msg) {
      document.getElementById("board").innerHTML = msg.data
    };
    
    socket.onerror = function (err) {
      alert(err)
    }

  </script>
</head>
<body>
  <div id="board"></div>
</body>
</html>
